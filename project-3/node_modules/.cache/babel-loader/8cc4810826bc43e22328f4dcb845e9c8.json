{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cmt3902\\\\CFG\\\\week9\\\\project3\\\\Front-end\\\\project-wayfarer\\\\project-3\\\\src\\\\App.js\";\n// import React, {Component} from 'react';\n// import logo from './logo.svg';\n// import './App.css';\n// import InputForms from './Components/InputForms';\n// class App extends Component {\n//   constructor(props) {\n//     super(props);\n//   }\n//   render() {\n//   return (\n//     <div className=\"App\">\n//     <InputForms />\n//     </div>\n//   );\n// }\n// }\n// export default App;\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport InputForms from './Components/InputForms';\nimport LoginForm from './Components/LoginForm';\nimport PostContainer from './Components/Posts/PostContainer';\nimport { registerUser, verifyUser, loginUser } from './services/api_helper';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleRegister = async (event, user) => {\n      event.preventDefault();\n      const loadedUser = await registerUser(user);\n      this.setState({\n        currentUser: loadedUser\n      });\n    };\n\n    this.handleLogin = async (event, user) => {\n      event.preventDefault();\n      const loadedUser = await loginUser(user);\n      this.setState({\n        currentUser: loadedUser\n      });\n    };\n\n    this.handleLogout = () => {\n      this.setState({\n        currentUser: null\n      });\n      localStorage.removeItem('authToken');\n    };\n\n    this.state = {\n      currentUser: null\n    };\n  }\n\n  async componentDidMount() {\n    const currentUser = await verifyUser();\n\n    if (currentUser) {\n      this.setState({\n        currentUser: currentUser\n      });\n    }\n  }\n\n  //Second thing that happens is the render() method\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 5\n      }\n    }, this.state.currentUser && /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 34\n      }\n    }, \"Welcome: \", this.state.currentUser.username), this.state.currentUser ? /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.handleLogout,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 33\n      }\n    }, \"Logout\") : /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(RegisterForm, {\n      handleSubmit: this.handleRegister,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(LoginForm, {\n      handleSubmit: this.handleLogin,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(PostContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 7\n      }\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/cmt3902/CFG/week9/project3/Front-end/project-wayfarer/project-3/src/App.js"],"names":["React","Component","InputForms","LoginForm","PostContainer","registerUser","verifyUser","loginUser","App","constructor","props","handleRegister","event","user","preventDefault","loadedUser","setState","currentUser","handleLogin","handleLogout","localStorage","removeItem","state","componentDidMount","render","username"],"mappings":";AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,OAAO,WAAP;AAEA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,aAAP,MAA0B,kCAA1B;AAEA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,SAAnC,QAAoD,uBAApD;;AAGA,MAAMC,GAAN,SAAkBP,SAAlB,CAA4B;AAC1BQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAUnBC,cAVmB,GAUF,OAAOC,KAAP,EAAcC,IAAd,KAAuB;AACtCD,MAAAA,KAAK,CAACE,cAAN;AACA,YAAMC,UAAU,GAAG,MAAMV,YAAY,CAACQ,IAAD,CAArC;AACA,WAAKG,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAEF;AADD,OAAd;AAGD,KAhBkB;;AAAA,SA2BnBG,WA3BmB,GA2BL,OAAON,KAAP,EAAcC,IAAd,KAAuB;AACnCD,MAAAA,KAAK,CAACE,cAAN;AACD,YAAMC,UAAU,GAAG,MAAMR,SAAS,CAACM,IAAD,CAAlC;AAEA,WAAKG,QAAL,CAAc;AACZC,QAAAA,WAAW,EAACF;AADA,OAAd;AAGA,KAlCkB;;AAAA,SAoCnBI,YApCmB,GAoCJ,MAAM;AACnB,WAAKH,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAC;AADA,OAAd;AAGAG,MAAAA,YAAY,CAACC,UAAb,CAAwB,WAAxB;AACD,KAzCkB;;AAGjB,SAAKC,KAAL,GAAa;AACXL,MAAAA,WAAW,EAAE;AADF,KAAb;AAKD;;AAUD,QAAMM,iBAAN,GAA0B;AACxB,UAAMN,WAAW,GAAG,MAAMX,UAAU,EAApC;;AACA,QAAGW,WAAH,EAAgB;AACd,WAAKD,QAAL,CAAc;AACZC,QAAAA,WAAW,EAAEA;AADD,OAAd;AAGD;AACF;;AAkBD;AACAO,EAAAA,MAAM,GAAG;AACT,wBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKF,KAAL,CAAWL,WAAX,iBAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAc,KAAKK,KAAL,CAAWL,WAAX,CAAuBQ,QAArC,CAD7B,EAEG,KAAKH,KAAL,CAAWL,WAAX,gBAAyB;AAAQ,MAAA,OAAO,EAAE,KAAKE,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAzB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AAAc,MAAA,YAAY,EAAE,KAAKR,cAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,SAAD;AAAW,MAAA,YAAY,EAAE,KAAKO,WAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CAHJ,eAQE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARF,CADF;AAYD;;AA1D2B;;AA6D5B,eAAeV,GAAf","sourcesContent":["// import React, {Component} from 'react';\r\n// import logo from './logo.svg';\r\n// import './App.css';\r\n// import InputForms from './Components/InputForms';\r\n\r\n// class App extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n\r\n\r\n//   }\r\n\r\n//   render() {\r\n//   return (\r\n\r\n//     <div className=\"App\">\r\n//     <InputForms />\r\n      \r\n//     </div>\r\n//   );\r\n// }\r\n// }\r\n\r\n// export default App;\r\n\r\nimport React, { Component } from 'react';\r\nimport logo from './logo.svg';\r\nimport './App.css';\r\n\r\nimport InputForms from './Components/InputForms';\r\nimport LoginForm from './Components/LoginForm';\r\nimport PostContainer from './Components/Posts/PostContainer';\r\n\r\nimport { registerUser, verifyUser, loginUser } from './services/api_helper';\r\n\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      currentUser: null\r\n\r\n    }\r\n\r\n  }\r\n\r\n  handleRegister = async (event, user) => {\r\n    event.preventDefault();\r\n    const loadedUser = await registerUser(user);\r\n    this.setState({\r\n      currentUser: loadedUser\r\n    })\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const currentUser = await verifyUser();\r\n    if(currentUser) {\r\n      this.setState({\r\n        currentUser: currentUser\r\n      })\r\n    }\r\n  }\r\n\r\n  handleLogin = async (event, user) => {\r\n    event.preventDefault();\r\n   const loadedUser = await loginUser(user);\r\n\r\n   this.setState({\r\n     currentUser:loadedUser\r\n   })\r\n  }\r\n\r\n  handleLogout = () => {\r\n    this.setState({\r\n      currentUser:null\r\n    })\r\n    localStorage.removeItem('authToken');\r\n  }\r\n\r\n  //Second thing that happens is the render() method\r\n  render() {\r\n  return (\r\n    <div className=\"App\">\r\n      {this.state.currentUser && <h3>Welcome: {this.state.currentUser.username}</h3>}\r\n      {this.state.currentUser ? <button onClick={this.handleLogout}>Logout</button> : (\r\n        <div>\r\n          <RegisterForm handleSubmit={this.handleRegister}/>\r\n          <LoginForm handleSubmit={this.handleLogin}/>\r\n        </div>\r\n      )}\r\n      <PostContainer />      \r\n    </div>\r\n  );\r\n}\r\n}\r\n \r\nexport default App;\r\n\r\n"]},"metadata":{},"sourceType":"module"}