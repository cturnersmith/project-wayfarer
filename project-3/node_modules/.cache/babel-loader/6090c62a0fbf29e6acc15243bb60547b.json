{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cmt3902\\\\CFG\\\\week9\\\\project3\\\\Front-end\\\\project-wayfarer\\\\project-3\\\\src\\\\Components\\\\Profile.js\";\nimport React, { Component } from 'react';\nimport EditProfile from './EditProfile';\nimport UserPosts from './UserPosts';\nimport { destroyPost } from '../services/api_helper';\nimport { withRouter } from 'react-router-dom';\n\nclass Profile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.destroyPost = async id => {\n      console.log(id);\n      await destroyPost(id); // const allPosts = this.state.posts;\n      // const remainingPosts = allPosts.filter(post => {\n      //     return post.id !== id\n      // })\n      // this.setState({\n      //     posts: remainingPosts\n      // })\n\n      this.props.history.push('/profile');\n    };\n\n    this.state = {\n      name: this.props.user.name,\n      img: this.props.user.img\n    };\n  }\n\n  render() {\n    const posts = this.props.user.Posts.map(posts => {\n      return /*#__PURE__*/React.createElement(UserPosts, {\n        posts: posts,\n        destroyPost: this.destroyPost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 16\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, \"Profile Page\"), /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.img,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, \"Name: \", this.state.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, \"Current City: \", this.props.user.City && this.props.user.City.name), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }\n    }, \"Join Date: \", this.props.user.createdAt), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: e => this.props.updateProfile(e, this.state),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: this.state.name,\n      placeholder: \"name\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"img\",\n      value: this.state.img,\n      placeholder: \"image\",\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Edit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }\n    }), posts);\n  }\n\n}\n\nexport default withRouter(Profile);","map":{"version":3,"sources":["C:/Users/cmt3902/CFG/week9/project3/Front-end/project-wayfarer/project-3/src/Components/Profile.js"],"names":["React","Component","EditProfile","UserPosts","destroyPost","withRouter","Profile","constructor","props","handleChange","e","setState","target","name","value","id","console","log","history","push","state","user","img","render","posts","Posts","map","City","createdAt","updateProfile"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,SAAQC,WAAR,QAA0B,wBAA1B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAGA,MAAMC,OAAN,SAAsBL,SAAtB,CAAgC;AAC5BM,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SASjBC,YATiB,GASDC,CAAD,IAAO;AACpB,WAAKC,QAAL,CAAc;AACV,SAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADhB,OAAd;AAGD,KAbgB;;AAAA,SAejBV,WAfiB,GAeH,MAAOW,EAAP,IAAc;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAYF,EAAZ;AACA,YAAMX,WAAW,CAACW,EAAD,CAAjB,CAF0B,CAG1B;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,WAAKP,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB;AACH,KA1BkB;;AAGf,SAAKC,KAAL,GAAY;AACVP,MAAAA,IAAI,EAAE,KAAKL,KAAL,CAAWa,IAAX,CAAgBR,IADZ;AAEVS,MAAAA,GAAG,EAAE,KAAKd,KAAL,CAAWa,IAAX,CAAgBC;AAFX,KAAZ;AAKD;;AAoBHC,EAAAA,MAAM,GAAI;AACR,UAAMC,KAAK,GAAG,KAAKhB,KAAL,CAAWa,IAAX,CAAgBI,KAAhB,CAAsBC,GAAtB,CAA0BF,KAAK,IAAE;AAC7C,0BAAO,oBAAC,SAAD;AAAW,QAAA,KAAK,EAAEA,KAAlB;AAAyB,QAAA,WAAW,EAAI,KAAKpB,WAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AAED,KAHa,CAAd;AAME,wBACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAK,MAAA,GAAG,EAAI,KAAKgB,KAAL,CAAWE,GAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAU,KAAKF,KAAL,CAAWP,IAArB,CAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAkB,KAAKL,KAAL,CAAWa,IAAX,CAAgBM,IAAhB,IAAwB,KAAKnB,KAAL,CAAWa,IAAX,CAAgBM,IAAhB,CAAqBd,IAA/D,CAJJ,eAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAe,KAAKL,KAAL,CAAWa,IAAX,CAAgBO,SAA/B,CALJ,eAMI;AAAM,MAAA,QAAQ,EAAIlB,CAAD,IAAO,KAAKF,KAAL,CAAWqB,aAAX,CAAyBnB,CAAzB,EAA4B,KAAKU,KAAjC,CAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAO,MAAA,IAAI,EAAE,MAAb;AACA,MAAA,IAAI,EAAG,MADP;AAEA,MAAA,KAAK,EAAE,KAAKA,KAAL,CAAWP,IAFlB;AAGA,MAAA,WAAW,EAAC,MAHZ;AAIA,MAAA,QAAQ,EAAE,KAAKJ,YAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAOI;AAAO,MAAA,IAAI,EAAG,MAAd;AACA,MAAA,IAAI,EAAE,KADN;AAEA,MAAA,KAAK,EAAG,KAAKW,KAAL,CAAWE,GAFnB;AAGA,MAAA,WAAW,EAAC,OAHZ;AAIA,MAAA,QAAQ,EAAE,KAAKb,YAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPJ,eAaI;AAAO,MAAA,IAAI,EAAE,QAAb;AAAsB,MAAA,KAAK,EAAC,MAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAbJ,CANJ,eAsBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAtBJ,EAuBKe,KAvBL,CADJ;AAgCH;;AApE2B;;AAyEhC,eAAenB,UAAU,CAAEC,OAAF,CAAzB","sourcesContent":["import React, { Component } from 'react';\r\nimport EditProfile from './EditProfile';\r\nimport UserPosts from './UserPosts';\r\nimport {destroyPost} from '../services/api_helper';\r\nimport {withRouter} from 'react-router-dom';\r\n\r\n\r\nclass Profile extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n    \r\n        this.state= {\r\n          name: this.props.user.name,\r\n          img: this.props.user.img\r\n\r\n        }\r\n      }\r\n      handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.name]: e.target.value\r\n        })\r\n      }\r\n\r\n      destroyPost = async (id) => {\r\n        console.log(id);\r\n        await destroyPost(id);\r\n        // const allPosts = this.state.posts;\r\n        // const remainingPosts = allPosts.filter(post => {\r\n        //     return post.id !== id\r\n        // })\r\n        // this.setState({\r\n        //     posts: remainingPosts\r\n        // })\r\n        this.props.history.push('/profile');\r\n    }\r\n\r\n    render () {\r\n      const posts = this.props.user.Posts.map(posts=>{\r\n        return <UserPosts posts={posts} destroyPost = {this.destroyPost}/>\r\n\r\n      })\r\n\r\n\r\n        return(\r\n            <div className=\"flex-container\">\r\n                <h1>Profile Page</h1>\r\n                <img src = {this.state.img} />\r\n                <p>Name: {this.state.name}</p>\r\n                <p>Current City: {this.props.user.City && this.props.user.City.name}</p>\r\n                <p>Join Date: {this.props.user.createdAt}</p>\r\n                <form onSubmit ={(e) => this.props.updateProfile(e, this.state)}>\r\n                    <input type =\"text\" \r\n                    name = \"name\" \r\n                    value={this.state.name}\r\n                    placeholder=\"name\"  \r\n                    onChange={this.handleChange}\r\n                    />\r\n                    <input type = \"text\" \r\n                    name= \"img\"\r\n                    value= {this.state.img}\r\n                    placeholder=\"image\" \r\n                    onChange={this.handleChange}\r\n                    />\r\n                    <input type =\"submit\" value=\"Edit\" />\r\n                    </form>\r\n                \r\n                <br></br>\r\n                {posts}\r\n              {/* <button onClick = {this.onClick}> Edit Profile</button>\r\n                {this.state.showComponent ? \r\n                <EditProfile user={this.props.user} /> :\r\n                null } */}\r\n            </div>\r\n        \r\n        )\r\n    }\r\n      \r\n    \r\n}\r\n\r\nexport default withRouter (Profile);"]},"metadata":{},"sourceType":"module"}